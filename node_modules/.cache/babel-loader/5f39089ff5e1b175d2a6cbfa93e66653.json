{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'Settings',\n  data() {\n    return {\n      themeSelection: this.$store.state.userPrefs.theme,\n      currencySelection: this.$store.state.userPrefs.currency,\n      currencies: ['USD']\n    };\n  },\n  mounted() {},\n  methods: {\n    savePreferences() {\n      axios.put(`http://localhost:3000/api/preferences`, {\n        theme: this.themeSelection,\n        currency: this.currencySelection\n      });\n      this.$store.commit('setUserPrefs', {\n        theme: this.themeSelection,\n        currency: this.currencySelection\n      });\n    }\n  },\n  watch: {\n    themeSelection(data) {\n      if (data == 0) {\n        this.$vuetify.theme.dark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n      } else if (data == 1) {\n        this.$vuetify.theme.dark = false;\n      } else if (data == 2) {\n        this.$vuetify.theme.dark = true;\n      }\n      this.savePreferences();\n    },\n    currencySelection() {\n      this.savePreferences();\n    }\n  }\n};","map":{"version":3,"mappings":"AAgCA;AAEA;EACAA;EAEAC;IACA;MACAC;MAEAC;MACAC,aACA;IAEA;EACA;EAEAC,WAEA;EAEAC;IACAC;MACAC;QACAC;QACAC;MACA;MAEA;QACAD;QACAC;MACA;IACA;EACA;EAEAC;IACAT;MACA;QACA;MACA,OACA;QACA;MACA,OACA;QACA;MACA;MACA;IACA;IAEAC;MACA;IACA;EACA;AACA","names":["name","data","themeSelection","currencySelection","currencies","mounted","methods","savePreferences","axios","theme","currency","watch"],"sourceRoot":"src/components","sources":["Settings.vue"],"sourcesContent":["<template>\r\n    <v-card class=\"pa-10 mx-auto mt-10 text-center\" width=\"330\">\r\n        <v-img eager src=\"../assets/logo64x64.png\" max-height=\"50\" max-width=\"50\" class=\"mx-auto\"></v-img>\r\n\r\n        <!-- Theme Selection -->\r\n        <v-card-text class=\"mt-6\">Theme</v-card-text>\r\n        <v-card-actions class=\"justify-center mb-6\">\r\n            <v-btn-toggle tile mandatory v-model=\"themeSelection\">\r\n                <v-btn small text outlined class=\"font-weight-light pa-4\">System</v-btn>\r\n                <v-btn small text outlined class=\"font-weight-light pa-4\">Light</v-btn>\r\n                <v-btn small text outlined class=\"font-weight-light pa-4\">Dark</v-btn>\r\n            </v-btn-toggle>\r\n        </v-card-actions>\r\n\r\n        <!-- Change Default Currency -->\r\n        <v-card-text>Display</v-card-text>\r\n        <v-select :items=\"currencies\" :menu-props=\"{ tile: true, nudgeBottom: 40 }\" v-model=\"currencySelection\" dense outlined class=\"rounded-0 mx-auto\" label=\"Default Currency\"></v-select>\r\n\r\n        <v-card-text>Account</v-card-text>\r\n\r\n        <!-- Change Password -->\r\n        <v-btn outlined tile text class=\"font-weight-light\" width=\"200\" @click=\"this.$router.push('/update-password')\">Change Password</v-btn>\r\n\r\n        <!-- Change Email -->\r\n        <v-btn outlined tile text class=\"font-weight-light my-4\" width=\"200\" @click=\"this.$router.push('/update-email')\">Change Email</v-btn>\r\n\r\n        <!-- Delete Account -->\r\n        <v-btn outlined tile text class=\"font-weight-light\" width=\"200\" @click=\"this.$router.push('/delete-account')\">Delete Account</v-btn>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    name: 'Settings',\r\n\r\n    data() {\r\n        return {\r\n            themeSelection: this.$store.state.userPrefs.theme,\r\n\r\n            currencySelection: this.$store.state.userPrefs.currency,\r\n            currencies: [\r\n                'USD',\r\n            ],\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n\r\n    },\r\n\r\n    methods: {\r\n        savePreferences() {\r\n            axios.put(`http://localhost:3000/api/preferences`, {\r\n                theme: this.themeSelection,\r\n                currency: this.currencySelection\r\n            })\r\n\r\n            this.$store.commit('setUserPrefs', {\r\n                theme: this.themeSelection,\r\n                currency: this.currencySelection\r\n            })\r\n        },\r\n    },\r\n\r\n    watch: {\r\n        themeSelection(data) {\r\n            if (data == 0) {\r\n                this.$vuetify.theme.dark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\r\n            }\r\n            else if (data == 1) {\r\n                this.$vuetify.theme.dark = false\r\n            }\r\n            else if (data == 2) {\r\n                this.$vuetify.theme.dark = true\r\n            }\r\n            this.savePreferences()\r\n        },\r\n\r\n        currencySelection() {\r\n            this.savePreferences()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.v-input{\r\n    width: 200px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}