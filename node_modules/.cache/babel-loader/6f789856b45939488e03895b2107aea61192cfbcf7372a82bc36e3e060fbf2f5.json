{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport VuexPersistence from 'vuex-persist';\nimport axios from 'axios';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  plugins: [new VuexPersistence({\n    storage: window.sessionStorage\n  }).plugin],\n  state: {\n    isLoggedIn: false,\n    userPrefs: {\n      theme: 0,\n      currency: 'USD'\n    },\n    notification: {\n      text: '',\n      color: ''\n    },\n    assets: {\n      raw: [],\n      totalValue: null,\n      tableData: [],\n      pieChartValues: [],\n      pieChartLabels: [],\n      history: []\n    },\n    debts: {\n      raw: [],\n      totalValue: null,\n      tableData: [],\n      pieChartValues: [],\n      pieChartLabels: [],\n      history: []\n    }\n  },\n  getters: {},\n  mutations: {\n    login(state) {\n      state.isLoggedIn = true;\n    },\n    setUserPrefs(state, data) {\n      state.userPrefs = data;\n    },\n    logOut(state) {\n      state.isLoggedIn = false;\n      state.userPrefs = {\n        theme: 0,\n        currency: 'USD'\n      };\n    },\n    setNotification(state, data) {\n      state.notification = data;\n    },\n    setAssetData(state, assets) {\n      state.assets.raw = assets.raw;\n      state.assets.totalValue = assets.totalValue;\n      state.assets.tableData = assets.tableData;\n      state.assets.pieChartValues = assets.pieChartValues;\n      state.assets.pieChartLabels = assets.pieChartLabels;\n      state.assets.history = assets.history;\n    },\n    setDebtData(state, debts) {\n      state.debts.raw = debts.raw;\n      state.debts.totalValue = debts.totalValue;\n      state.debts.tableData = debts.tableData;\n      state.debts.pieChartValues = debts.pieChartValues;\n      state.debts.pieChartLabels = debts.pieChartLabels;\n      state.debts.history = debts.history;\n    }\n  },\n  actions: {\n    async getAssetData() {\n      // Set up object we want to return\n      let assets = {\n        raw: [],\n        totalValue: 0,\n        tableData: [],\n        pieChartValues: [],\n        pieChartLabels: [],\n        history: []\n      };\n\n      // Get raw asset data\n      axios.get(`http://localhost:3000/api/assets`).then(resp => {\n        assets.raw = resp.data;\n\n        // Set total value and pie chart data\n        if (assets.raw.length) {\n          for (let asset of assets.raw) {\n            if (!asset.is_deleted) {\n              assets.pieChartLabels.push(asset.name);\n              assets.pieChartValues.push(parseFloat(asset.value));\n              assets.totalValue += parseFloat(asset.value);\n            }\n          }\n        }\n\n        // Filter out deleted assets in the table\n        assets.tableData = assets.raw.filter(e => e.is_deleted == 0);\n        axios.get(`http://localhost:3000/api/assets/history`).then(resp => {\n          assets.history = resp.data;\n          this.commit('setAssetData', assets);\n        });\n      }).catch(() => {\n        this.$router.push('/404');\n      });\n    },\n    async getDebtData() {\n      // Set up object we want to return\n      let debts = {\n        totalValue: 0,\n        tableData: [],\n        pieChartValues: [],\n        pieChartLabels: [],\n        history: []\n      };\n\n      // Get raw asset data\n      axios.get(`http://localhost:3000/api/debts`).then(resp => {\n        debts.raw = resp.data;\n\n        // Set total value and pie chart data\n        if (debts.raw.length) {\n          for (let debt of debts.raw) {\n            if (!debt.is_deleted) {\n              debts.pieChartLabels.push(debt.name);\n              debts.pieChartValues.push(parseFloat(debt.value));\n              debts.totalValue += parseFloat(debt.value);\n            }\n          }\n        }\n\n        // Filter out deleted assets in the table\n        debts.tableData = debts.raw.filter(e => e.is_deleted == 0);\n        axios.get(`http://localhost:3000/api/debts/history`).then(resp => {\n          debts.history = resp.data;\n          this.commit('setDebtData', debts);\n        });\n      }).catch(() => {\n        this.$router.push('/404');\n      });\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","VuexPersistence","axios","use","Store","plugins","storage","window","sessionStorage","plugin","state","isLoggedIn","userPrefs","theme","currency","notification","text","color","assets","raw","totalValue","tableData","pieChartValues","pieChartLabels","history","debts","getters","mutations","login","setUserPrefs","data","logOut","setNotification","setAssetData","setDebtData","actions","getAssetData","get","then","resp","length","asset","is_deleted","push","name","parseFloat","value","filter","e","commit","catch","$router","getDebtData","debt"],"sources":["C:/Users/crole/Documents/vufi/src/store/store.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport VuexPersistence from 'vuex-persist'\r\nimport axios from 'axios'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    plugins: [new VuexPersistence({\r\n        storage: window.sessionStorage\r\n    }).plugin],\r\n\r\n    state: {\r\n        isLoggedIn: false,\r\n\r\n        userPrefs: {\r\n            theme: 0,\r\n            currency: 'USD'\r\n        },\r\n\r\n        notification: {\r\n            text: '',\r\n            color: ''\r\n        },\r\n\r\n        assets: {\r\n            raw: [],\r\n            totalValue: null,\r\n            tableData: [],\r\n            pieChartValues: [],\r\n            pieChartLabels: [],\r\n            history: [],\r\n        },\r\n\r\n        debts: {\r\n            raw: [],\r\n            totalValue: null,\r\n            tableData: [],\r\n            pieChartValues: [],\r\n            pieChartLabels: [],\r\n            history: [],\r\n        },\r\n    },\r\n\r\n    getters: {\r\n\r\n    },\r\n\r\n    mutations: {\r\n        login(state) {\r\n            state.isLoggedIn = true\r\n        },\r\n\r\n        setUserPrefs(state, data) { state.userPrefs = data },\r\n\r\n        logOut(state) {\r\n            state.isLoggedIn = false\r\n\r\n            state.userPrefs = {\r\n                theme: 0,\r\n                currency: 'USD'\r\n            }\r\n        },\r\n\r\n        setNotification(state, data) { state.notification = data },\r\n\r\n        setAssetData(state, assets) {\r\n            state.assets.raw = assets.raw\r\n            state.assets.totalValue = assets.totalValue\r\n            state.assets.tableData = assets.tableData\r\n            state.assets.pieChartValues = assets.pieChartValues\r\n            state.assets.pieChartLabels = assets.pieChartLabels\r\n            state.assets.history = assets.history\r\n        },\r\n\r\n        setDebtData(state, debts) {\r\n            state.debts.raw = debts.raw\r\n            state.debts.totalValue = debts.totalValue\r\n            state.debts.tableData = debts.tableData\r\n            state.debts.pieChartValues = debts.pieChartValues\r\n            state.debts.pieChartLabels = debts.pieChartLabels\r\n            state.debts.history = debts.history\r\n        },\r\n    },\r\n\r\n    actions: {\r\n        async getAssetData() {\r\n            // Set up object we want to return\r\n            let assets = {\r\n                raw: [],\r\n                totalValue: 0,\r\n                tableData: [],\r\n                pieChartValues: [],\r\n                pieChartLabels: [],\r\n                history: [],\r\n            }\r\n\r\n            // Get raw asset data\r\n            axios.get(`http://localhost:3000/api/assets`)\r\n            .then(resp => {\r\n                assets.raw = resp.data\r\n                \r\n                // Set total value and pie chart data\r\n                if (assets.raw.length) {\r\n                    for (let asset of assets.raw) {\r\n                        if (!asset.is_deleted) {\r\n                            assets.pieChartLabels.push(asset.name)\r\n                            assets.pieChartValues.push(parseFloat(asset.value))\r\n                            assets.totalValue += parseFloat(asset.value)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Filter out deleted assets in the table\r\n                assets.tableData = assets.raw.filter(e => e.is_deleted == 0)\r\n\r\n                axios.get(`http://localhost:3000/api/assets/history`)\r\n                .then(resp => {\r\n                    assets.history = resp.data\r\n\r\n                    this.commit('setAssetData', assets)\r\n                })\r\n            })\r\n            .catch(() => {\r\n                this.$router.push('/404')\r\n            })\r\n        },\r\n\r\n        async getDebtData() {\r\n            // Set up object we want to return\r\n            let debts = {\r\n                totalValue: 0,\r\n                tableData: [],\r\n                pieChartValues: [],\r\n                pieChartLabels: [],\r\n                history: [],\r\n            }\r\n\r\n            // Get raw asset data\r\n            axios.get(`http://localhost:3000/api/debts`)\r\n            .then(resp => {\r\n                debts.raw = resp.data\r\n                \r\n                // Set total value and pie chart data\r\n                if (debts.raw.length) {\r\n                    for (let debt of debts.raw) {\r\n                        if (!debt.is_deleted) {\r\n                            debts.pieChartLabels.push(debt.name)\r\n                            debts.pieChartValues.push(parseFloat(debt.value))\r\n                            debts.totalValue += parseFloat(debt.value)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Filter out deleted assets in the table\r\n                debts.tableData = debts.raw.filter(e => e.is_deleted == 0)\r\n\r\n                axios.get(`http://localhost:3000/api/debts/history`)\r\n                .then(resp => {\r\n                    debts.history = resp.data\r\n\r\n                    this.commit('setDebtData', debts)\r\n                })\r\n            })\r\n            .catch(() => {\r\n                this.$router.push('/404')\r\n            })\r\n        },\r\n    }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}