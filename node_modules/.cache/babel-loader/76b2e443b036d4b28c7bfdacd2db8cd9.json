{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'CreateAccount',\n  data() {\n    return {\n      emailExists: false,\n      validForm: false,\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      rules: {\n        required: value => !!value || 'Required field',\n        email: value => {\n          const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n          return pattern.test(value) || 'Invalid e-mail';\n        }\n      }\n    };\n  },\n  mounted() {},\n  methods: {\n    async createAccount() {\n      this.$refs.form.validate();\n\n      // Check if fields are correct\n      if (this.validForm) {\n        // Add user to the database\n        await axios.post('http://localhost:3000/api/auth/create', {\n          email: this.email,\n          password: this.password,\n          firstName: this.firstName,\n          lastName: this.lastName\n        }).then(() => {\n          this.$router.push('/assets');\n        }).catch(err => {\n          // Handles pre-existing email\n          if (err.response.status == 409) {\n            this.emailExists = true;\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAqBA;AAEA;EACAA;EAEAC;IACA;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MAEAC;QACAC;QACAH;UACA;UACA;QACA;MACA;IACA;EACA;EAEAI,WAEA;EAEAC;IACA;MACA;;MAEA;MACA;QACA;QACA;UACAL;UACAC;UACAH;UACAC;QACA,GACAO;UACA;QACA,GACAC;UACA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","emailExists","validForm","firstName","lastName","email","password","rules","required","mounted","methods","then","catch"],"sourceRoot":"src/components","sources":["CreateAccount.vue"],"sourcesContent":["<template>\r\n    <v-card class=\"pa-10 mx-auto mt-10 text-center\" width=\"330\">\r\n        <v-form v-model=\"validForm\" ref=\"form\">\r\n            <v-img eager src=\"../assets/logo64x64.png\" max-height=\"50\" max-width=\"50\" class=\"mx-auto mb-4\"></v-img>\r\n\r\n            <v-text-field label=\"First Name\" v-model=\"firstName\"></v-text-field>\r\n            <v-text-field label=\"Last Name\" v-model=\"lastName\"></v-text-field>\r\n\r\n            <v-text-field label=\"Email\" v-model=\"email\" :error=\"emailExists\" :rules=\"[rules.required, rules.email]\"></v-text-field>\r\n            <v-text-field class=\"mb-4\" label=\"Password\" type=\"password\" v-model=\"password\" :rules=\"[rules.required]\"></v-text-field>\r\n\r\n            <v-card-text v-if=\"emailExists\" class=\"error--text pa-0\">This email is already registered</v-card-text>\r\n            <v-btn v-if=\"emailExists\" width=\"200\" small tile class=\"error mt-4\">Forgot Password?</v-btn>\r\n\r\n            <v-btn width=\"200\" tile class=\"primary my-4\" @click=\"createAccount\">Sign Up</v-btn>\r\n            <v-btn width=\"200\" text tile class=\"font-weight-light\" @click=\"this.$router.push('/login')\">Log In</v-btn>\r\n        </v-form>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    name: 'CreateAccount',\r\n\r\n    data() {\r\n        return {\r\n            emailExists: false,\r\n            validForm: false,\r\n\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            password: '',\r\n\r\n            rules: {\r\n                required: value => !!value || 'Required field',\r\n                email: value => {\r\n                    const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n                    return pattern.test(value) || 'Invalid e-mail'\r\n                },\r\n            },\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n\r\n    },\r\n\r\n    methods: {\r\n        async createAccount() {\r\n            this.$refs.form.validate()\r\n\r\n            // Check if fields are correct\r\n            if (this.validForm) {\r\n                // Add user to the database\r\n                await axios.post('http://localhost:3000/api/auth/create', {\r\n                    email: this.email,\r\n                    password: this.password,\r\n                    firstName: this.firstName,\r\n                    lastName: this.lastName,\r\n                })\r\n                .then(() => {\r\n                    this.$router.push('/assets')\r\n                })\r\n                .catch((err) => {\r\n                    // Handles pre-existing email\r\n                    if (err.response.status == 409) {\r\n                        this.emailExists = true\r\n                    }\r\n                })\r\n            }\r\n        },\r\n    },\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}